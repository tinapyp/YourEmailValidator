{% from 'macros/cards.html' import pricing_card %}
<section id="pricing" class="w-full py-12 md:py-24 lg:py-32 relative">
  <div class="absolute inset-0 bg-gradient-to-b from-purple-500/5 to-transparent"></div>
  <div class="container px-4 md:px-6 mx-auto">
    <div class="flex flex-col items-center justify-center space-y-4 text-center mb-12">
      <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-gradient">Simple pricing for everyone</h2>
      <p class="max-w-[600px] text-gray-500 md:text-xl/relaxed">Choose the perfect plan for your needs</p>
    </div>
    <div class="grid gap-8 md:grid-cols-2 max-w-5xl mx-auto">
      {% if current_user %}
        {% set button_text_free = 'Go to Dashboard' %}
        {% set button_url_free = url_for('dashboard') %}

        {% set button_text_donate = 'Upgrade Now' %}
      {% else %}
        {% set button_text_free = 'Get Started' %}
        {% set button_url_free = url_for('register') %}

        {% set button_text_donate = 'Join as Donatur' %}
      {% endif %}

      {% set button_class = 'btn-gradient text-white' %}
      {{ pricing_card(tier='Free Tier', price='$0', description='', features=['100 API calls per month', 'Basic email validation', 'Limited disposable email detection', 'Syntax and format validation'], register_url=button_url_free, button_text=button_text_free, button_class=button_class) }}
      {{ pricing_card(tier='DONATUR Tier', price='$29', description='One time per life ðŸ¤£', features=['Unlimited API calls', 'Bulk validation support', 'Advanced email validation (disposable detection, MX record checks)', 'Domain-specific validation', 'Customizable validation options (e.g., allow/deny certain TLDs or domains)'], register_url=button_url, button_text=button_text_donate, button_class=button_class, gradient=True, popular=True) }}
    </div>
  </div>
</section>
